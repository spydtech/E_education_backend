# ===============================
# Application & Server Config
# ===============================
spring.application.name=Registration
server.port=8082

# ===============================
# Database Configuration (Local MySQL)
# ===============================
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# spring.datasource.url=jdbc:mysql://localhost:3306/e-education?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=UTF-8&allowMultiQueries=true
# spring.datasource.url=jdbc:mysql://localhost:3306/e-education
# spring.datasource.username=root
# spring.datasource.password=root
# spring.datasource.url=jdbc:mysql://srv1983.hstgr.io:3306/u861150102_education?createDatabaseIfNotExist=true
spring.datasource.url=jdbc:mysql://srv1983.hstgr.io:3306/u861150102_spyd_education?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=UTF-8
spring.datasource.username=u861150102_e_education
spring.datasource.password=Eeducation2025
# ===============================
# JPA & Hibernate Settings - FIXED
# ===============================
# First run with 'create' to create tables, then change to 'update'
spring.jpa.hibernate.ddl-auto=update
spring.jpa.generate-ddl=true
spring.jpa.show-sql=true

# CRITICAL: Use MySQL8Dialect, not MySQLDialect
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect

# CRITICAL: Naming strategy for Spring Boot 3
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# Additional Hibernate properties
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.id.new_generator_mappings=true
spring.jpa.properties.hibernate.connection.charSet=UTF-8
spring.jpa.properties.hibernate.hbm2ddl.auto=update

# Disable this if you have issues with hyphens in database names
spring.jpa.properties.hibernate.globally_quoted_identifiers=false

# ===============================
# HikariCP Connection Pool
# ===============================
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-test-query=SELECT 1

# ===============================
# Actuator & Management
# ===============================
management.endpoints.web.exposure.include=health,info,metrics,env,beans
management.endpoint.health.show-details=always
management.endpoints.web.base-path=/actuator

# ===============================
# Razorpay Payment Gateway
# ===============================
razorpay.api.key=rzp_live_O2RbutXpyAfDAP
razorpay.api.secret=h1sZaJ1oz9MKNTvluHGie8z4

# ===============================
# Email Configuration (Gmail SMTP)
# ===============================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=spydtech09@gmail.com
spring.mail.password=fmxs onpq ujmz ilhb
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# ===============================
# Google Sign-In Config
# ===============================
spring.security.oauth2.client.registration.google.client-id=909179091397-lvtic2d6fpiau4djhvepun9m7k5kq8js.apps.googleusercontent.com
spring.security.oauth2.client.registration.google.client-secret=AIzaSyBxkAtOJu3sQt_JKjFjtm_UUmWmPapHWLI
spring.security.oauth2.client.registration.google.redirect-uri=https://api.e-education.in/auth/google/callback
spring.security.oauth2.client.registration.google.scope=email,profile,openid
google.client-id=909179091397-lvtic2d6fpiau4djhvepun9m7k5kq8js.apps.googleusercontent.com


# OAuth2 Provider
spring.security.oauth2.client.provider.google.authorization-uri=https://accounts.google.com/o/oauth2/v2/auth
spring.security.oauth2.client.provider.google.token-uri=https://oauth2.googleapis.com/token
spring.security.oauth2.client.provider.google.user-info-uri=https://www.googleapis.com/oauth2/v3/userinfo
spring.security.oauth2.client.provider.google.user-name-attribute=sub



# ===============================
# CORS Configuration
# ===============================
cors.allowed.origins=http://localhost:5173,http://localhost:5174,http://localhost:8082,http://82.29.161.78:5173,http://82.29.161.78:5174,http://82.29.161.78:3000,http://82.29.161.78:5175,https://e-education.in,https://api.e-education.in
cors.allowed.originsPatterns=https://*.e-education.in,https://e-education.in,https://api.e-education.in,http://localhost:5173,http://localhost:5174

# ===============================
# File Upload Limits
# ===============================
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB

# ===============================
# Logging Config - DETAILED
# ===============================
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
logging.level.org.hibernate.tool.schema.internal=DEBUG
logging.level.org.springframework.jdbc=DEBUG
logging.level.org.springframework.transaction=DEBUG
logging.level.com.zaxxer.hikari=DEBUG
logging.level.com.Eonline.Education=DEBUG
logging.level.org.hibernate.engine.jdbc.spi.SqlExceptionHelper=DEBUG
logging.level.org.springframework.orm.jpa=DEBUG
